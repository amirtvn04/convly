<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard با Preloader</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* کلاس‌های اضافی برای اندازه‌های خاص */
        .text-40 { font-size: 2.5rem; }
        .h-35 { height: 8.75rem; }
        .p-7\.5 { padding: 1.875rem; }
        .px-7\.5 { padding-left: 1.875rem; padding-right: 1.875rem; }
        .py-7\.5 { padding-top: 1.875rem; padding-bottom: 1.875rem; }
        .px-3\.5 { padding-left: 0.875rem; padding-right: 0.875rem; }
        .mt-2\.5 { margin-top: 0.625rem; }
        .mt-6\.5 { margin-top: 1.625rem; }
        .gap-x-7\.5 { column-gap: 1.875rem; }
        .rounded-3xl { border-radius: 1.5rem; }

        /* انیمیشن loading skeleton */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* انیمیشن fade in */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* حالت loading برای قسمت‌های مختلف */
        .loading-card {
            background-color: #f9fafb;
        }

        .loading-text {
            height: 20px;
            border-radius: 4px;
        }

        .loading-number {
            height: 40px;
            border-radius: 8px;
        }

        .loading-badge {
            height: 32px;
            width: 80px;
            border-radius: 16px;
        }

        .loading-chart {
            height: 300px;
            border-radius: 12px;
        }

        .loading-table-row {
            height: 16px;
            border-radius: 4px;
            margin-bottom: 8px;
        }

        /* استایل دکمه‌های فیلتر */
        .filter-button {
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.2s;
        }

        .filter-button.active {
            background-color: #f3f4f6;
            color: #000;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="container mx-auto p-6">
        <!-- Section 1: Numbers -->
        <div class="grid grid-cols-3 gap-x-8 mb-10">
            <!-- Card 1 -->
            <div id="card1" class="h-35 bg-white rounded-xl p-7.5 loading-card">
                <div class="skeleton loading-text w-24 mb-4"></div>
                <div class="flex justify-between items-center">
                    <div class="skeleton loading-number w-20"></div>
                    <div class="skeleton loading-badge"></div>
                </div>
            </div>

            <!-- Card 2 -->
            <div id="card2" class="h-35 bg-white rounded-xl p-7.5 loading-card">
                <div class="skeleton loading-text w-24 mb-4"></div>
                <div class="flex justify-between items-center">
                    <div class="skeleton loading-number w-20"></div>
                    <div class="skeleton loading-badge"></div>
                </div>
            </div>

            <!-- Card 3 -->
            <div id="card3" class="h-35 bg-white rounded-xl p-7.5 loading-card">
                <div class="skeleton loading-text w-24 mb-4"></div>
                <div class="flex justify-between items-center">
                    <div class="skeleton loading-number w-20"></div>
                    <div class="skeleton loading-badge"></div>
                </div>
            </div>
        </div>

        <!-- Section 2: Chart -->
        <div id="chart-section" class="rounded-xl bg-white py-10 px-7.5 relative z-0 mb-10 loading-card">
            <div class="skeleton loading-text w-32 mb-6"></div>
            
            <div class="flex items-center gap-x-7.5 mt-6.5 mb-8">
                <div class="skeleton loading-text w-16 h-6"></div>
                <div class="skeleton loading-text w-16 h-6"></div>
                <div class="skeleton loading-text w-16 h-6"></div>
                <div class="skeleton loading-text w-16 h-6"></div>
                <div class="skeleton loading-text w-16 h-6"></div>
            </div>

            <div class="skeleton loading-chart w-full"></div>
        </div>

        <!-- Section 3: Table -->
        <div id="table-section" class="rounded-xl bg-white py-10 px-7.5 mb-40 loading-card">
            <div class="skeleton loading-text w-32 mb-8"></div>
            
            <div class="space-y-4">
                <!-- Table Header -->
                <div class="flex justify-between items-center py-4 border-b border-gray-200">
                    <div class="skeleton loading-text w-16 h-4"></div>
                    <div class="skeleton loading-text w-20 h-4"></div>
                    <div class="skeleton loading-text w-24 h-4"></div>
                    <div class="skeleton loading-text w-20 h-4"></div>
                    <div class="skeleton loading-text w-24 h-4"></div>
                    <div class="skeleton loading-text w-16 h-4"></div>
                </div>
                
                <!-- Table Rows -->
                <div class="space-y-6">
                    <div class="flex justify-between items-center py-4">
                        <div class="skeleton loading-table-row w-8"></div>
                        <div class="skeleton loading-table-row w-20"></div>
                        <div class="skeleton loading-table-row w-8"></div>
                        <div class="skeleton loading-table-row w-8"></div>
                        <div class="skeleton loading-table-row w-12"></div>
                        <div class="skeleton loading-table-row w-16"></div>
                    </div>
                    <div class="flex justify-between items-center py-4">
                        <div class="skeleton loading-table-row w-8"></div>
                        <div class="skeleton loading-table-row w-20"></div>
                        <div class="skeleton loading-table-row w-8"></div>
                        <div class="skeleton loading-table-row w-8"></div>
                        <div class="skeleton loading-table-row w-12"></div>
                        <div class="skeleton loading-table-row w-16"></div>
                    </div>
                    <div class="flex justify-between items-center py-4">
                        <div class="skeleton loading-table-row w-8"></div>
                        <div class="skeleton loading-table-row w-20"></div>
                        <div class="skeleton loading-table-row w-8"></div>
                        <div class="skeleton loading-table-row w-8"></div>
                        <div class="skeleton loading-table-row w-12"></div>
                        <div class="skeleton loading-table-row w-16"></div>
                    </div>
                    <div class="flex justify-between items-center py-4">
                        <div class="skeleton loading-table-row w-8"></div>
                        <div class="skeleton loading-table-row w-20"></div>
                        <div class="skeleton loading-table-row w-8"></div>
                        <div class="skeleton loading-table-row w-8"></div>
                        <div class="skeleton loading-table-row w-12"></div>
                        <div class="skeleton loading-table-row w-16"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // شبیه‌سازی بارگذاری داده‌ها
        const loadData = {
            card1: () => ({
                title: "تعداد لیدها",
                number: "126",
                change: "+ 10%",
                changeType: "positive"
            }),
            card2: () => ({
                title: "نرخ تبدیل",
                number: "68%",
                change: "- 2%",
                changeType: "negative"
            }),
            card3: () => ({
                title: "درآمد کل",
                number: "540K",
                change: "+ 15%",
                changeType: "positive"
            }),
            chart: () => ({
                title: "صفحه اصلی",
                filters: ["12 ماه", "3 ماه", "30 روز", "7 روز", "24 ساعت"]
            }),
            table: () => ({
                title: "همه صفحات",
                data: [
                    { status: "فعال", name: "آکادمی", visitors: "5", clicks: "4", conversion: "80%", action: "جزئیات" },
                    { status: "فعال", name: "وبلاگ", visitors: "12", clicks: "8", conversion: "67%", action: "جزئیات" },
                    { status: "غیرفعال", name: "محصولات", visitors: "25", clicks: "15", conversion: "60%", action: "جزئیات" },
                    { status: "فعال", name: "تماس با ما", visitors: "8", clicks: "6", conversion: "75%", action: "جزئیات" }
                ]
            })
        };

        // تابع بارگذاری کارت
        function loadCard(cardId, data) {
            const card = document.getElementById(cardId);
            const changeClass = data.changeType === 'positive' ? 'text-green-600 bg-green-100' : 'text-red-600 bg-red-100';
            
            card.innerHTML = `
                <h5 class="text-gray-500 font-semibold">${data.title}</h5>
                <div class="flex justify-between items-center mt-2.5">
                    <span class="text-40 font-bold">${data.number}</span>
                    <span class="text-lg font-semibold ${changeClass} rounded-3xl px-3.5 py-1">${data.change}</span>
                </div>
            `;
            
            card.classList.remove('loading-card');
            card.classList.add('fade-in');
        }

        // تابع بارگذاری چارت
        function loadChart(data) {
            const section = document.getElementById('chart-section');
            
            section.innerHTML = `
                <h5 class="text-3xl font-bold">${data.title}</h5>
                
                <div class="text-base flex items-center gap-x-7.5 mt-6.5 font-medium text-gray-500">
                    ${data.filters.map((filter, index) => 
                        `<span class="filter-button cursor-pointer ${index === 0 ? 'active' : ''}">${filter}</span>`
                    ).join('')}
                </div>

                <div class="mt-8 bg-gray-100 rounded-xl h-80 flex items-center justify-center">
                    <div class="text-gray-500 text-lg">چارت داده‌ها در اینجا نمایش داده می‌شود</div>
                </div>
            `;
            
            section.classList.remove('loading-card');
            section.classList.add('fade-in');
        }

        // تابع بارگذاری جدول
        function loadTable(data) {
            const section = document.getElementById('table-section');
            
            section.innerHTML = `
                <h5 class="text-3xl font-bold">${data.title}</h5>
                <table class="mt-8 w-full table-auto divide-y divide-gray-200">
                    <thead class="text-sm text-left">
                        <tr class="*:font-medium *:py-4">
                            <th>وضعیت</th>
                            <th>نام صفحه</th>
                            <th>بازدیدکنندگان منحصر</th>
                            <th>کلیک دکمه</th>
                            <th>نرخ تبدیل</th>
                            <th>عملیات</th>
                        </tr>
                    </thead>
                    <tbody class="text-base font-semibold divide-y divide-gray-200 space-y-5">
                        ${data.data.map(row => `
                            <tr>
                                <td>
                                    <span class="w-3 h-3 rounded-full ${row.status === 'فعال' ? 'bg-green-500' : 'bg-red-500'} inline-block"></span>
                                </td>
                                <td>${row.name}</td>
                                <td>${row.visitors}</td>
                                <td>${row.clicks}</td>
                                <td>${row.conversion}</td>
                                <td class="text-blue-600 cursor-pointer hover:text-blue-800">${row.action}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;
            
            section.classList.remove('loading-card');
            section.classList.add('fade-in');
        }

        // شبیه‌سازی بارگذاری با تاخیرهای مختلف
        setTimeout(() => loadCard('card1', loadData.card1()), 1000);
        setTimeout(() => loadCard('card2', loadData.card2()), 1500);
        setTimeout(() => loadCard('card3', loadData.card3()), 2000);
        setTimeout(() => loadChart(loadData.chart()), 2500);
        setTimeout(() => loadTable(loadData.table()), 3000);

        // اضافه کردن عملکرد به فیلترها (بعد از بارگذاری چارت)
        setTimeout(() => {
            const filterButtons = document.querySelectorAll('.filter-button');
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    filterButtons.forEach(b => b.classList.remove('active'));
                    button.classList.add('active');
                });
            });
        }, 2600);
    </script>
</body>
</html>